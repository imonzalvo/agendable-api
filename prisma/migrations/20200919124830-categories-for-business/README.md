# Migration `20200919124830-categories-for-business`

This migration has been generated by Ignacio Carlos Monzalvo Milan at 9/19/2020, 12:48:30 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Category" (
"businessId" text   ,"id" text  NOT NULL ,"name" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Category" ADD FOREIGN KEY ("businessId")REFERENCES "public"."Business"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200823194931-add-url-fields-to-business..20200919124830-categories-for-business
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgres"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model AvailabilityItem {
   id         String   @default(cuid()) @id
@@ -92,8 +92,15 @@
   services    Service[]
   bookings    Booking[]
 }
+model Category {
+  id         String    @default(cuid()) @id
+  name       String
+  Business   Business? @relation(fields: [businessId], references: [id])
+  businessId String?
+}
+
 model Business {
   id           String       @default(cuid()) @id
   name         String
   email        String       @unique
@@ -105,8 +112,9 @@
   landing      LandingInfo?
   website      String?
   instagramUrl String?
   facebookUrl  String?
+  Category     Category[]
 }
 model BusinessImage {
   id            String       @default(cuid()) @id
```


